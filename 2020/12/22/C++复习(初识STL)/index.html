<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="1、STL简介STL简称标准模板库，它是所有C++编译器和操作系统平台都支持的一种库。 STL的内容从广义上分为三个部分：容器、迭代器、算法。 STL的一个基本理念就是将数据和操作分离，数据又容器类别加以管理，操作则由算法管理，迭代器则用于连接两者(类似指针)。STL的结构如下：  在C++标准中，STL被组织在13个头文件中:、、          。 1.1、容器容器类集合在C++中就是标准模">
<meta property="og:type" content="article">
<meta property="og:title" content="C++复习(初识STL)">
<meta property="og:url" content="http://yoursite.com/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%88%9D%E8%AF%86STL)/index.html">
<meta property="og:site_name" content="KJHの博客">
<meta property="og:description" content="1、STL简介STL简称标准模板库，它是所有C++编译器和操作系统平台都支持的一种库。 STL的内容从广义上分为三个部分：容器、迭代器、算法。 STL的一个基本理念就是将数据和操作分离，数据又容器类别加以管理，操作则由算法管理，迭代器则用于连接两者(类似指针)。STL的结构如下：  在C++标准中，STL被组织在13个头文件中:、、          。 1.1、容器容器类集合在C++中就是标准模">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%88%9D%E8%AF%86STL)/qq_pic_merged_1609041808915.jpg">
<meta property="og:image" content="http://yoursite.com/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%88%9D%E8%AF%86STL)/qq_pic_merged_1609041824548.jpg">
<meta property="og:image" content="http://yoursite.com/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%88%9D%E8%AF%86STL)/qq_pic_merged_1609043291908.jpg">
<meta property="article:published_time" content="2020-12-22T08:49:29.720Z">
<meta property="article:modified_time" content="2020-12-27T08:24:43.662Z">
<meta property="article:author" content="匡俊桦">
<meta property="article:tag" content="C++复习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%88%9D%E8%AF%86STL)/qq_pic_merged_1609041808915.jpg">

<link rel="canonical" href="http://yoursite.com/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%88%9D%E8%AF%86STL)/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>C++复习(初识STL) | KJHの博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>


<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">KJHの博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">记录&回忆</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%88%9D%E8%AF%86STL)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="匡俊桦">
      <meta itemprop="description" content="回忆的沙漏将曾经屈指可数的日子渐渐淡去">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KJHの博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          C++复习(初识STL)
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-22 16:49:29" itemprop="dateCreated datePublished" datetime="2020-12-22T16:49:29+08:00">2020-12-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-27 16:24:43" itemprop="dateModified" datetime="2020-12-27T16:24:43+08:00">2020-12-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>14k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>13 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="1、STL简介"><a href="#1、STL简介" class="headerlink" title="1、STL简介"></a>1、STL简介</h2><p>STL简称标准模板库，它是所有C++编译器和操作系统平台都支持的一种库。</p>
<p>STL的内容从广义上分为三个部分：容器、迭代器、算法。</p>
<p>STL的一个基本理念就是将数据和操作分离，数据又容器类别加以管理，操作则由算法管理，迭代器则用于连接两者(类似指针)。STL的结构如下：</p>
<p><img src="/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%88%9D%E8%AF%86STL)/qq_pic_merged_1609041808915.jpg" alt></p>
<p>在C++标准中，STL被组织在13个头文件中:<algorithm>、<deque>、<functional> <iterator> <vector> <list> <map> <memory> <numric> <queue> <set> <stack> <utility>。</utility></stack></set></queue></numric></memory></map></list></vector></iterator></functional></deque></algorithm></p>
<h3 id="1-1、容器"><a href="#1-1、容器" class="headerlink" title="1.1、容器"></a>1.1、容器</h3><p>容器类集合在C++中就是标准模板库(STL)。</p>
<p>容器的定义为：在数据存储上，有一种对象类型，它可以装入<strong>其它对象</strong>或<strong>指向**</strong>其它<strong>对象的</strong>指针<strong>，这种对象类型就叫做容器。简单地说，</strong>容器就是保存其它对象的对象**。并且容器类里面还有一系列成员函数用来处理其它对象的方法。</p>
<p>另外容器是可以自由扩展的，即可以自行申请或者释放空间，并且用最优的算法来执行命令。</p>
<p>以下是STL中的主要容器:</p>
<p>template<typename t></typename></p>
<p>vector<T> 是一种<strong>向量，也可以说成是可以自由扩展的数组。</strong></T></p>
<p>list<T> 是一种<strong>双向链表</strong>容器。</T></p>
<p>queue<T> 是一种<strong>队列</strong>容器。</T></p>
<p>stack<T> 是一种栈容器。</T></p>
<p>priority<T> 是一种<strong>按值排序的队列</strong>容器。</T></p>
<p>set<T> 是一种<strong>集合</strong>容器，集合里面是相同的数据类，但不允许有重复元素。</T></p>
<p>multiset<T> 是一种<strong>允许出现重复元素</strong>的集合容器。</T></p>
<p>map&lt;key,value&gt; 隐射，是一种关联数组容器，即<strong>键值对</strong>元素。</p>
<p>multimap&lt;key,value&gt; 是一种允许出现重复key值得关联数组容器。</p>
<p>其中以上容器可分为两大类：序列式容器和关联式容器。</p>
<p><strong>序列式容器:vector、list、deque</strong></p>
<p><strong>关联式容器:set、map、multiset、multipap</strong></p>
<h3 id="1-2、迭代器"><a href="#1-2、迭代器" class="headerlink" title="1.2、迭代器"></a>1.2、迭代器</h3><p>迭代器是STL中最基本的一部分，它用于将容器与算法联系起来，起着粘合剂的作用，几乎所有STL提供的算法都是通过迭代器存取元素来实现的，<strong>类似于指针，但是比指针功能多，只有当参数类型是C++基本数据类型时，迭代器就是指针。</strong></p>
<p>STL中定义了5中类型的迭代器：</p>
<p>输入迭代器：用于读取数据</p>
<p>输出迭代器：用于写入数据</p>
<p>前向迭代器：既可以输入也可以输出，并且可以对一个值进行多次读写</p>
<p>双向迭代器：既可以用来读也可以用来写，比前向迭代器多一个后向元素操作功能</p>
<p>随机访问迭代器：可以随机访问容器中的数据，在双向迭代器上增加了功能，功能最强大。</p>
<p>每一种容器都支持某一种类型的迭代器。</p>
<h3 id="1-3、算法"><a href="#1-3、算法" class="headerlink" title="1.3、算法"></a>1.3、算法</h3><p>STL提供了大概70个实现算法的<strong>模板函数</strong>，即适用于不同容器进行操作。</p>
<h2 id="2、序列式容器"><a href="#2、序列式容器" class="headerlink" title="2、序列式容器"></a>2、序列式容器</h2><h3 id="2-1、序列式容器概述。"><a href="#2-1、序列式容器概述。" class="headerlink" title="2.1、序列式容器概述。"></a>2.1、序列式容器概述。</h3><p>序列式容器也叫做顺序性容器，<strong>各元素之间有顺序的线性表</strong>，是一种<strong>线性结构</strong>的有序群集。</p>
<p>容器中的元素都是可排序的(有顺序的)，但未必是已经有序的。序列式容器最重要的特点就是可以在首端删除元素，在尾端添加元素，而双向序列容器(deque)，允许在两端添加和删除元素。</p>
<p>序列式容器一般有两种存储方式:连续存储(vector、deque)和链式存储(list)。</p>
<p>序列中每个元素都有固定的位置，除非用删除或者插入的操作改变这个位置，这个位置和元素本身无关，和操作的<strong>逻辑顺序有关。</strong></p>
<h4 id="2-1-1、vector向量的实现以及访问特点"><a href="#2-1-1、vector向量的实现以及访问特点" class="headerlink" title="2.1.1、vector向量的实现以及访问特点"></a>2.1.1、vector向量的实现以及访问特点</h4><p><strong>vector向量容器一种支持高效的随机访问和高效向尾部插入新元素的容器。向量容器一般实现为一个动态分配的数组</strong>，向量中的元素连续地存放在这个数组中，因此对向量容器进行随机访问，具有和动态访问数组类似的效率。</p>
<p>向量容器具有自动扩展容器的功能，即每次插入一个新元素都是“分配新空间-复制元素-释放原空间”，这样<strong>效率会低，但是实际分配的空间则会大于所需要的空间。</strong></p>
<p>另外<strong>当要删除元素时，多出的闲置空间并不会被释放</strong>，因为再插入新元素时可能会重新占用这些空间，即有两个概念：向量容器的容量(capacity)为空间所能存储的最多元素的大小，向量容器的大小(size)为容器实际存储元素的个数。</p>
<p>向量容器中插入新元素时，插入位置之后的元素都要被顺序地往后移动，并且插入位置越靠前，执行插入所需的时间就越多，但<strong>在向量尾部插入元素的效率就比较高</strong>，<strong>因此在总体上向量容器的插入操作效率并不高。</strong></p>
<p><strong>在向向量容器中插入元素时，如果插入操作引起了向量容器的扩展，那么执行插入之前的所获得的一切迭代器、指针、引用都会失效，因为空间被重新分配了，元素的内存地址发生了变化。</strong></p>
<p>如果插入操作没有引起向量容器的扩展，那么只有处于插入位置之后的迭代器、指针、引用失效，因为只有插入位置后面的元素被移动了。</p>
<p>向量容器中删除元素时与插入相类似，即被删除元素越靠前，所需时间就越多，<strong>但是删除操作不会引起容器容量的改变</strong>，因此被删除元素之前的迭代器、指针、引用都能够继续使用，被删除元素之后的</p>
<p>则会失效。</p>
<h4 id="2-1-2、deque双端队列的实现以及访问特点"><a href="#2-1-2、deque双端队列的实现以及访问特点" class="headerlink" title="2.1.2、deque双端队列的实现以及访问特点"></a>2.1.2、deque双端队列的实现以及访问特点</h4><p>deque与vector不同，它是双端开口的，是一种支持向两端插入数据并支持随机访问的容器。双端队列中的数据被表示为一个分段数组，容器中的元素分段存放在一个个大小固定的数组中，此外容器还需要维护一个存放这些数组首地址的索引数组。如图所示</p>
<p>分段数组的大小是固定的，并且它们的首地址被连续地存储在索引数组中，因此可以对双端队列进行随机访问。</p>
<p><img src="/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%88%9D%E8%AF%86STL)/qq_pic_merged_1609041824548.jpg" alt></p>
<p>注意：<strong>deque容器在首尾进行添加、删除效率都很高</strong>，而在中间就不高，并且在首尾删除时只会让被删除元素的迭代器、指针、引用失效，不会影响其它元素，并且在删除元素之后，不使用的内存区块会被释放掉，这点与vector不一样。而在中间删除时则会使所有的迭代器、指针、引用失效。</p>
<p>deque容器的插入效率比较低，因为每插入一个数据，就需要将插入点到另外一段之间的所有元素向容器的另外一端移动，并且插入位置越靠近中间，所需时间越多，这样插入也会使所有的迭代器、指针、引用失效。</p>
<h4 id="2-1-3、list列表的实现及访问特点"><a href="#2-1-3、list列表的实现及访问特点" class="headerlink" title="2.1.3、list列表的实现及访问特点"></a>2.1.3、list列表的实现及访问特点</h4><p><strong>列表是一种不能随机访问，但可以高效地在任意位置插入和删除元素的容器，列表容器一般实现为链表，并且是双向链表。</strong>如图所示：</p>
<p><img src="/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%88%9D%E8%AF%86STL)/qq_pic_merged_1609043291908.jpg" alt></p>
<p>在列表中插入新的元素 只需要为新元素新建立一个新链表节点，并修改前后两个结点的指针，而不需要移动任何已有元素，因此效率很高，并且不会使任何已有的迭代器、指针、引用失效。</p>
<p>在列表中删除元素时，需要释放掉被删除元素所占用的空间，然后修改前后两个结点的指针，也不需要移动任何元素，因此效率很高，并且执行删除操作时，只会使指向被删除元素的迭代器、指针、引用失效。</p>
<p>即：</p>
<p><strong>需要进行大量的随机访问操作时，使用vector</strong></p>
<p><strong>需要进行大量的随机插入或者删除操作时，使用list</strong></p>
<h3 id="2-2、vector类模板"><a href="#2-2、vector类模板" class="headerlink" title="2.2、vector类模板"></a>2.2、vector类模板</h3><p>vector是STL中一种自定义数据类型，包含在头文件<vector>中，定义如下：</vector></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T,<span class="class"><span class="keyword">class</span> <span class="title">Allocator</span> = <span class="title">allocator</span>&lt;T&gt;&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">vector</span>;</span></span><br></pre></td></tr></table></figure>

<p>vetor是将元素放置于一个动态数组当中加以管理的容器，是最简单的序列式容器。</p>
<h4 id="2-2-1、创建vecor对象"><a href="#2-2-1、创建vecor对象" class="headerlink" title="2.2.1、创建vecor对象"></a>2.2.1、创建vecor对象</h4><p>vector类模板中定义了不同的重载构造函数，因此vector对象的创建与初始化也有不同的方式，</p>
<p>1、指定容器大小</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;元素类型&gt; 对象名(容器大小)</span><br></pre></td></tr></table></figure>

<p>&lt;&gt;中的类型是容器中元素的类型，例如<int>就表示此容器中存储的是int类型的数据。</int></p>
<p><strong>注意：vector对象在定义后所有元素都会被初始化，如果是基本数据类型，啧啧都会被初始化为0，如果是其它数据类型容器，则由类的默认构造函数初始化。</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v1</span><span class="params">(<span class="number">10</span>)</span></span>;<span class="comment">//创建一个容量大小为10的int类型容器v1</span></span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; <span class="title">v2</span><span class="params">(<span class="number">5</span>)</span></span>;<span class="comment">//创建一个容量为5的string类型容器v2</span></span><br></pre></td></tr></table></figure>

<p>这种情况下，指定了容器大小，但是没有指定初始值，标准库就好自动创建一个初始值赋值给数组中的所有元素，这个初始值由元素类型而定。</p>
<p>2、指定初始值</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;元素类型&gt; 对象名(容器大小,元素初始值);</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v1</span><span class="params">(<span class="number">10</span>,<span class="number">1</span>)</span></span>;<span class="comment">//10个元素的初始值都为1</span></span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; <span class="title">v2</span><span class="params">(<span class="number">3</span>,<span class="string">"aa"</span>)</span></span>;<span class="comment">//3个元素的初始值都为“aa"</span></span><br></pre></td></tr></table></figure>

<p>3、列表初始化(C++11新标准)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1&#123;<span class="number">1</span>,<span class="number">2</span>&#125;;<span class="comment">//v1有两个元素1，2</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; v2=&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>&#125;;<span class="comment">//v2有3个元素，分别为字符串a b c</span></span><br></pre></td></tr></table></figure>

<p>注意：列表初始化有两种方式，带”=“符号和不带”=“符号都可以。</p>
<p>4、初始化状态为空</p>
<p>vector对象可以初始化状态为空，即既没有指定容器大小，也没有指定初始值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1;<span class="comment">//创建一个空的int型对象</span></span><br></pre></td></tr></table></figure>

<p>5、用vector对象来初始化另外一个容器对象</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v1</span><span class="params">(<span class="number">10</span>,<span class="number">1</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v1</span><span class="params">(v1)</span></span>;<span class="comment">//用v1来初始化v2</span></span><br><span class="line">Vector&lt;<span class="keyword">int</span>&gt; v3=v2;<span class="comment">//用v2数组给v3数组赋值</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：用一个vector对象来初始化另外一个容器对象时，两个vector对象的元素类型必须相同，因为它调用的是vector的复制构造函数。</strong></p>
<p>复制构造函数会创建一个临时对象来为容器复制，这样为造成效率低下，我们可以用emplace_back()函数代替，它可以直接给对象赋值。</p>
<p>访问vector对象可以用随机迭代器，也就是下标的形式来访问。</p>
<p><strong>注意：空的vector容器不可以使用下标直接赋值，例如vector<int> v; v[2]=2;是错误语句，因为此时v是空的，不包含任何元素，所有没有相对应的下标来给元素赋值。</int></strong></p>
<h4 id="2-2-2、emplace-back-函数"><a href="#2-2-2、emplace-back-函数" class="headerlink" title="2.2.2、emplace_back()函数"></a><strong>2.2.2、emplace_back()函数</strong></h4><p>c++开发中我们会经常用到插入操作对stl的各种容器进行操作，比如vector,map,set等。在引入右值引用，转移构造函数，转移复制运算符之前，通常使用push_back()向容器中加入一个右值元素(临时对象)时，首先会调用构造函数构造这个临时对象，然后需要调用拷贝构造函数将这个临时对象放入容器中。原来的临时变量释放。这样造成的问题就是临时变量申请资源的浪费。<br>引入了右值引用，转移构造函数后，push_back()右值时就会调用构造函数和转移构造函数,如果可以在插入的时候直接构造，就只需要构造一次即可。这就是c++11 新加的emplace_back。</p>
<p>emplace_back函数原型：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span>... <span class="title">Args</span>&gt;</span></span><br><span class="line"><span class="class">  <span class="title">void</span> <span class="title">emplace_back</span> (<span class="title">Args</span>&amp;&amp;... <span class="title">args</span>);</span></span><br></pre></td></tr></table></figure>

<p>在容器尾部添加一个元素，这个元素原地构造，不需要触发拷贝构造和转移构造。而且调用形式更加简洁，直接根据参数初始化临时对象的成员。<br>一个很有用的例子:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;  </span></span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">President</span>  </span></span><br><span class="line"><span class="class">&#123;</span>  </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> name;  </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> country;  </span><br><span class="line">    <span class="keyword">int</span> year;  </span><br><span class="line"> </span><br><span class="line">    President(<span class="built_in">std</span>::<span class="built_in">string</span> p_name, <span class="built_in">std</span>::<span class="built_in">string</span> p_country, <span class="keyword">int</span> p_year)  </span><br><span class="line">        : name(<span class="built_in">std</span>::<span class="built_in">move</span>(p_name)), country(<span class="built_in">std</span>::<span class="built_in">move</span>(p_country)), year(p_year)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"I am being constructed.\n"</span>;  </span><br><span class="line">    &#125;</span><br><span class="line">    President(<span class="keyword">const</span> President&amp; other)</span><br><span class="line">        : name(<span class="built_in">std</span>::<span class="built_in">move</span>(other.name)), country(<span class="built_in">std</span>::<span class="built_in">move</span>(other.country)), year(other.year)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"I am being copy constructed.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    President(President&amp;&amp; other)  </span><br><span class="line">        : name(<span class="built_in">std</span>::<span class="built_in">move</span>(other.name)), country(<span class="built_in">std</span>::<span class="built_in">move</span>(other.country)), year(other.year)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"I am being moved.\n"</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    President&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> President&amp; other);  </span><br><span class="line">&#125;;  </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;President&gt; elections;  </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"emplace_back:\n"</span>;  </span><br><span class="line">    elections.emplace_back(<span class="string">"Nelson Mandela"</span>, <span class="string">"South Africa"</span>, <span class="number">1994</span>); <span class="comment">//没有类的创建  </span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;President&gt; reElections;  </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\npush_back:\n"</span>;  </span><br><span class="line">    reElections.push_back(President(<span class="string">"Franklin Delano Roosevelt"</span>, <span class="string">"the USA"</span>, <span class="number">1936</span>));  </span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\nContents:\n"</span>;  </span><br><span class="line">    <span class="keyword">for</span> (President <span class="keyword">const</span>&amp; president: elections) &#123;  </span><br><span class="line">       <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; president.name &lt;&lt; <span class="string">" was elected president of "</span>  </span><br><span class="line">            &lt;&lt; president.country &lt;&lt; <span class="string">" in "</span> &lt;&lt; president.year &lt;&lt; <span class="string">".\n"</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">for</span> (President <span class="keyword">const</span>&amp; president: reElections) &#123;  </span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; president.name &lt;&lt; <span class="string">" was re-elected president of "</span>  </span><br><span class="line">            &lt;&lt; president.country &lt;&lt; <span class="string">" in "</span> &lt;&lt; president.year &lt;&lt; <span class="string">".\n"</span>;  </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">emplace_back:</span><br><span class="line">I am being constructed.</span><br><span class="line"> </span><br><span class="line">push_back:</span><br><span class="line">I am being constructed.</span><br><span class="line">I am being moved.</span><br><span class="line"> </span><br><span class="line">Contents:</span><br><span class="line">Nelson Mandela was elected president of South Africa in <span class="number">1994.</span></span><br></pre></td></tr></table></figure>

<p> <strong>新版本的原型展示： void push_back(const value_type&amp; x); void push_back(value_type&amp;&amp; x); &lt;typename… Args&gt; reference emplace_back(Args&amp;&amp;… args); 两者区别：push_back传入一个事先存在的元素对象，调用的是拷贝或移动构造来生成这个新压入的元素对象：construct(<em>des, class_name&amp;|&amp;&amp; x)） emplace_back：多个事先存在的对象，调用示义：construct(</em>des, other_type &amp;x|&amp;&amp;x, type_name &amp;|&amp;&amp;,…) emplace_back传参不定，编译器需要在调用时才生成具体的实现，push_back只是emplace_back的两个偏移化版本！ push_back只能用类中的拷贝或移动构造，而emplace_back还可以是类中的其他多参数的构造函数，这是优点也是缺点（代码翻倍）&amp;&amp;在普通函数中作为参数时，是万能引用，并不是右值引用，在函数体中会使用forward完美转发，调用时是复制或移动和你传的值有关，你传左值它就用左值版本，传右值就用右值版本，心里要有数。如果一个类没有上诉的拷贝或移动构造，则不能用于STL容器中，如果没有相应参数类型的构造实现，emplace_back编译不过，找不到它需要的对应构造函数.. move和copy构造唯一区别：move时，指针属性只是简单的拷贝指针，而copy中，指针属性被拷贝的同时，它所指的具体内容也还需要深度copy下去…我们在实现类的两个构造时特别要注意这一点，move中要将旧对象的指针属性置nullptr，这意味着相应的对象不再适合使用了（它必须是临时对象的原因！转移后，内部的指针属性失效！） move和copy的性能对比：正如上说，move只是指针优化，如果类本身没有指针属性，则它不需要move，我们也不必强制move不可，copy和move在内置类型和简单类型（指无指针属性、即构造时不需要new）没区别</strong></p>
<h4 id="2-2-3、获取容器的容量和大小"><a href="#2-2-3、获取容器的容量和大小" class="headerlink" title="2.2.3、获取容器的容量和大小"></a>2.2.3、获取容器的容量和大小</h4><p>vector提供了两个函数capacity()和size()来分别获取容器的容量和大小。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v.capacity();</span><br><span class="line">v.<span class="built_in">size</span>();</span><br></pre></td></tr></table></figure>

<p>其中v为创建的向量对象。</p>
<h4 id="2-2-4、预留容器容量reserve"><a href="#2-2-4、预留容器容量reserve" class="headerlink" title="2.2.4、预留容器容量reserve()"></a>2.2.4、预留容器容量reserve()</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v.reserve(<span class="keyword">int</span> elem);</span><br></pre></td></tr></table></figure>

<p>elem为要预留容器的容量最小容量。</p>
<h4 id="2-2-5、赋值函数assign"><a href="#2-2-5、赋值函数assign" class="headerlink" title="2.2.5、赋值函数assign()"></a>2.2.5、赋值函数assign()</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v.assign(n,elem);<span class="comment">//将n个elem元素赋值给容器</span></span><br><span class="line">v.assign(<span class="built_in">begin</span>,<span class="built_in">end</span>);<span class="comment">//将[begin,end)迭代器所指区间赋值给容器</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：第二种赋值方式是左闭右开的形式。</strong></p>
<h4 id="2-2-6、访问容器的元素-、at"><a href="#2-2-6、访问容器的元素-、at" class="headerlink" title="2.2.6、访问容器的元素[]、at()"></a>2.2.6、访问容器的元素[]、at()</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v[<span class="keyword">int</span> idx];</span><br><span class="line">v.at(<span class="keyword">int</span> idx);<span class="comment">//返回索引指向的数据，与[]用法相同</span></span><br></pre></td></tr></table></figure>

<h4 id="2-2-7、从尾部插入和删除元素push-back、pop-back"><a href="#2-2-7、从尾部插入和删除元素push-back、pop-back" class="headerlink" title="2.2.7、从尾部插入和删除元素push_back、pop_back"></a>2.2.7、从尾部插入和删除元素push_back、pop_back</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v.push_back(type elem&amp; t);</span><br><span class="line">v.pop_back();</span><br></pre></td></tr></table></figure>

<p>push_back()函数是向vector容器末尾添加元素，即先创建一个空的vector对象，再调用push_back()函数向其中添加元素，而pop_bakc()用于弹出vector容器末尾的一个元素。</p>
<p><strong>注意：由于vector是可自由扩展容器大小的容器，因此很容易因为没有初始化容量而导致浪费大部分时间用于自动申请空间上，因此最好先定义一个大小足够的空vector对象，再在运行时向其中添加元素。</strong></p>
<h4 id="2-2-8、获取头部和尾部元素"><a href="#2-2-8、获取头部和尾部元素" class="headerlink" title="2.2.8、获取头部和尾部元素"></a>2.2.8、获取头部和尾部元素</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v.front();</span><br><span class="line">v.back();</span><br></pre></td></tr></table></figure>

<p><strong>它们分别返回容器的头尾元素的引用。</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v.<span class="built_in">begin</span>();</span><br><span class="line">v.<span class="built_in">end</span>();</span><br></pre></td></tr></table></figure>

<p><strong>begin和end则返回头尾元素的迭代器(相当于指针),并且begin返回第一个元素的迭代器，end返回最后一个元素的下一个位置的迭代器。</strong></p>
<h4 id="2-2-9、插入和删除元素"><a href="#2-2-9、插入和删除元素" class="headerlink" title="2.2.9、插入和删除元素"></a>2.2.9、插入和删除元素</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">v.insert(pos,elem);<span class="comment">//在pos位置上插入元素elem，返回新数据的位置</span></span><br><span class="line">v.insert(pos,n,elem);<span class="comment">//在pos位置上插入n个elem元素，无返回值</span></span><br><span class="line">v.insert(pos,<span class="built_in">begin</span>,<span class="built_in">end</span>);<span class="comment">//在pos位置上插入[begin,end)区间的数据，无返回值</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v.erase(pos);<span class="comment">//移除pos位置上的元素，返回下一个数据的位置</span></span><br><span class="line">v.erase(<span class="built_in">begin</span>,<span class="built_in">end</span>);<span class="comment">//移除[begin,end)区间的数据，返回下一个严肃的位置</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：insert和erase函数中的位置只能是由begin()或者end()返回的迭代器来指示，而不能用纯粹的数字来作为参数。</strong></p>
<h4 id="2-2-10、翻转函数reverse-begin-end"><a href="#2-2-10、翻转函数reverse-begin-end" class="headerlink" title="2.2.10、翻转函数reverse(begin,end)"></a>2.2.10、翻转函数reverse(begin,end)</h4><h4 id="2-2-11、判空函数empty"><a href="#2-2-11、判空函数empty" class="headerlink" title="2.2.11、判空函数empty()"></a>2.2.11、判空函数empty()</h4><h4 id="2-2-12、重新设置容器大小函数resize"><a href="#2-2-12、重新设置容器大小函数resize" class="headerlink" title="2.2.12、重新设置容器大小函数resize()"></a>2.2.12、重新设置容器大小函数resize()</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">V.resize(n);</span><br><span class="line">v.resize(n,elem);</span><br></pre></td></tr></table></figure>

<p><strong>注意：当容器原来大小小于要设置的大小n时，会扩容，相反则会销毁多余部分。</strong></p>
<p>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*vector容器示例</span></span><br><span class="line"><span class="comment">	vector&lt;int&gt; v;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	v.empty(); // 判断容器v是否是空。v.empty() == 1表示v为空</span></span><br><span class="line"><span class="comment">	v.push_back(10); // 添加元素10到v</span></span><br><span class="line"><span class="comment">	v.pop_back(); //  从v中取出元素，容器中的该元素就删除了</span></span><br><span class="line"><span class="comment">	v.size(); // 获取容器的大小</span></span><br><span class="line"><span class="comment">	sort(v.begin(), v.end());  // 对v中元素排序，sort函数参见sort的用法</span></span><br><span class="line"><span class="comment">	// sort(v.begin(), v.end(), cmp); // 需要定义cmp函数。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; myv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">	<span class="keyword">for</span> (it = myv.<span class="built_in">begin</span>(); it != myv.<span class="built_in">end</span>(); it++) <span class="comment">//通过迭代器访问容器值 </span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">assignfun1</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; v)</span> <span class="comment">//给容器赋值，参数需要用引用或指针</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> arr[] = &#123; <span class="number">21</span>, <span class="number">4</span>, <span class="number">55</span>, <span class="number">22</span>, <span class="number">46</span>, <span class="number">79</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">78</span>, <span class="number">34</span>, <span class="number">100</span> &#125;;</span><br><span class="line">	v.assign(arr, arr + <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(<span class="keyword">int</span>)); <span class="comment">//用数组给v容器赋值</span></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">assignfun2</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; v)</span> <span class="comment">//给容器赋值，参数需要用引用或指针 </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		v.push_back(i); <span class="comment">//</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Multi</span>  //类模板,用于<span class="title">for_each</span>函数中 </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	T value;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	Multi(<span class="keyword">const</span> T&amp; v) :value(v) &#123;&#125;  <span class="comment">//构造函数</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(T&amp; elem)</span> <span class="keyword">const</span> </span>&#123; elem *= value; &#125; <span class="comment">//重载()运算符</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">VectorFun</span><span class="params">()</span><span class="comment">//vector容器的使用</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, k;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator itv;</span><br><span class="line"></span><br><span class="line">	assignfun1(v);</span><br><span class="line">	<span class="comment">//assignfun2(v);</span></span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; v[i] &lt;&lt; <span class="string">" "</span>; <span class="comment">// 可以用下标来访问这个容器，跟数组类似 </span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"使用迭代器来输出数据：\n"</span>;</span><br><span class="line">	<span class="built_in">print</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"翻转数据："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	reverse(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>()); <span class="comment">// reverse函数功能：翻转字符串 ，翻转数组， 用于STL的翻转。</span></span><br><span class="line">	<span class="built_in">print</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//排序</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"排序："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	sort(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());<span class="comment">//调用sort()算法将容器中元素从小到大排列 //less&lt;int&gt;(),其他：equal_to, not_equal_to,less_equal,greater_equal</span></span><br><span class="line">	<span class="built_in">print</span>(v);</span><br><span class="line"></span><br><span class="line">	sort(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), greater&lt;<span class="keyword">int</span>&gt;());<span class="comment">//调用sort()算法将容器中元素从大到小排列 //greater&lt;int&gt;()</span></span><br><span class="line">	<span class="built_in">print</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//查找</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"查找："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"input num="</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; k;</span><br><span class="line">	itv = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), k);</span><br><span class="line">	<span class="comment">//find()算法用于在[begin, last)区间查找value元素是否存在。</span></span><br><span class="line">	<span class="comment">//如果存在，就返回指向这个元素的迭代器，如果不存在，就返回end。</span></span><br><span class="line">	<span class="keyword">if</span> (itv != v.<span class="built_in">end</span>())</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"find ok="</span> &lt;&lt; *itv &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"No find.\n"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//for_ each()函数</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"对每个元素乘以5，结果为：\n"</span>;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), Multi&lt;<span class="keyword">int</span>&gt;(<span class="number">5</span>));</span><br><span class="line">	<span class="built_in">print</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//累加</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"累加："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"累加和="</span> &lt;&lt; accumulate(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">0</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="comment">//需要头文件 //#include &lt;numeric&gt; </span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printlist</span><span class="params">(<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; myl)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">	<span class="keyword">for</span> (it = myl.<span class="built_in">begin</span>(); it != myl.<span class="built_in">end</span>(); it++) <span class="comment">//通过迭代器访问容器值 </span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ListFun</span><span class="params">()</span> <span class="comment">//list容器的操作 </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; mylist;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> arr[] = &#123; <span class="number">21</span>, <span class="number">4</span>, <span class="number">55</span>, <span class="number">22</span>, <span class="number">46</span>, <span class="number">79</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">78</span>, <span class="number">34</span>, <span class="number">100</span> &#125;;</span><br><span class="line">	mylist.assign(arr, arr + <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(<span class="keyword">int</span>)); <span class="comment">//用数组给v容器赋值</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"\nList容器：\n"</span>;</span><br><span class="line">	printlist(mylist);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//排序，list容器本身有sort函数</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"从小到大排序：\n"</span>;</span><br><span class="line">	mylist.sort();<span class="comment">//升序 </span></span><br><span class="line">	printlist(mylist);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"从大到小排序：\n"</span>;</span><br><span class="line">	mylist.sort(greater&lt;<span class="keyword">int</span>&gt;());<span class="comment">//降序 </span></span><br><span class="line">	printlist(mylist);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//vector容器的使用 </span></span><br><span class="line">	VectorFun();</span><br><span class="line"></span><br><span class="line">	<span class="comment">//list容器的使用 </span></span><br><span class="line">	ListFun();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//容器中存储结构体数据（对象数据）的操作方法</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;string&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> num;</span><br><span class="line">	<span class="built_in">string</span> name;</span><br><span class="line">	<span class="keyword">char</span> sex;</span><br><span class="line">	<span class="keyword">int</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">assignfun1</span><span class="params">(<span class="built_in">vector</span>&lt;student&gt;&amp; v)</span> <span class="comment">//给容器赋值，参数需要用引用或指针</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	student arr[] = &#123; &#123;<span class="number">1001</span>,<span class="string">"name1"</span>,<span class="string">'F'</span>,<span class="number">90</span>&#125;,&#123;<span class="number">1002</span>,<span class="string">"name2"</span>,<span class="string">'M'</span>,<span class="number">95</span>&#125;,&#123;<span class="number">1003</span>,<span class="string">"name3"</span>,<span class="string">'M'</span>,<span class="number">91</span>&#125; &#125;;</span><br><span class="line">	v.assign(arr, arr + <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(student)); <span class="comment">//用数组给v容器赋值</span></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">assignfun2</span><span class="params">(<span class="built_in">vector</span>&lt;student&gt;&amp; v)</span> <span class="comment">//给容器赋值，参数需要用引用或指针 </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	student s1, s2;</span><br><span class="line">	s1.num = <span class="number">2001</span>;</span><br><span class="line">	s1.name = <span class="string">"name21"</span>;</span><br><span class="line">	s1.sex = <span class="string">'F'</span>;</span><br><span class="line">	s1.score = <span class="number">92</span>;</span><br><span class="line"></span><br><span class="line">	s2.num = <span class="number">2002</span>;</span><br><span class="line">	s2.name = <span class="string">"name22"</span>;</span><br><span class="line">	s2.sex = <span class="string">'M'</span>;</span><br><span class="line">	s2.score = <span class="number">96</span>;</span><br><span class="line"></span><br><span class="line">	v.push_back(s1);</span><br><span class="line">	v.push_back(s2);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="built_in">vector</span>&lt;student&gt; myv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;student&gt;::iterator it;</span><br><span class="line">	<span class="keyword">for</span> (it = myv.<span class="built_in">begin</span>(); it != myv.<span class="built_in">end</span>(); it++) <span class="comment">//通过迭代器访问容器值 </span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; it-&gt;num &lt;&lt; <span class="string">" "</span> &lt;&lt; it-&gt;name &lt;&lt; <span class="string">" "</span> &lt;&lt; it-&gt;sex &lt;&lt; <span class="string">" "</span> &lt;&lt; it-&gt;score &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpnum</span><span class="params">(student a, student b)</span> <span class="comment">//按num由大到小 </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (a.num &gt; b.num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpscore</span><span class="params">(student a, student b)</span> <span class="comment">//按score由小到大 </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (a.score &lt; b.score);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">findnum</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	findnum(<span class="keyword">int</span> num) :cmp_num(num) &#123;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span> <span class="params">()</span><span class="params">(student s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> cmp_num == s.num;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> cmp_num;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">findname</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	findname(<span class="built_in">string</span> cmp_string) :cmp_name(cmp_string) &#123;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span> <span class="params">()</span><span class="params">(student s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> cmp_name == s.name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">string</span> cmp_name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findprint</span><span class="params">(<span class="built_in">vector</span>&lt;student&gt;::iterator itv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"find ok="</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; itv-&gt;num &lt;&lt; <span class="string">" "</span> &lt;&lt; itv-&gt;name &lt;&lt; <span class="string">" "</span> &lt;&lt; itv-&gt;sex &lt;&lt; <span class="string">" "</span> &lt;&lt; itv-&gt;score &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, k;</span><br><span class="line">	<span class="built_in">string</span> namestr;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">vector</span>&lt;student&gt; v;</span><br><span class="line">	<span class="built_in">vector</span>&lt;student&gt;::iterator itv;</span><br><span class="line"></span><br><span class="line">	assignfun1(v);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"使用迭代器来输出数据：\n"</span>;</span><br><span class="line">	<span class="built_in">print</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;v.<span class="built_in">size</span>(); ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; v[i].num &lt;&lt; <span class="string">" "</span> &lt;&lt; v[i].name &lt;&lt; <span class="string">" "</span> &lt;&lt; v[i].sex &lt;&lt; <span class="string">" "</span> &lt;&lt; v[i].score &lt;&lt; <span class="string">"\n"</span>; <span class="comment">// 可以用下标来访问这个容器，跟数组类似 </span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	assignfun2(v);</span><br><span class="line">	<span class="built_in">print</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"翻转数据："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	reverse(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>()); <span class="comment">// reverse函数功能：翻转字符串 ，翻转数组， 用于STL的翻转。</span></span><br><span class="line">	<span class="built_in">print</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//排序</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"排序："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	sort(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), cmpnum); <span class="comment">//cmpnum是比较函数 </span></span><br><span class="line">	<span class="built_in">print</span>(v);</span><br><span class="line"></span><br><span class="line">	sort(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), cmpscore);</span><br><span class="line">	<span class="built_in">print</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//查找</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"查找："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"input num="</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; k;</span><br><span class="line">	itv = find_if(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), findnum(k));</span><br><span class="line">	<span class="comment">//find()算法用于在[begin, last)区间查找value元素是否存在。</span></span><br><span class="line">	<span class="comment">//如果存在，就返回指向这个元素的迭代器，如果不存在，就返回end。</span></span><br><span class="line">	<span class="keyword">if</span> (itv != v.<span class="built_in">end</span>())</span><br><span class="line">		findprint(itv);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"No find.\n"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"input name="</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; namestr;</span><br><span class="line">	itv = find_if(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), findname(namestr));</span><br><span class="line">	<span class="keyword">if</span> (itv != v.<span class="built_in">end</span>())</span><br><span class="line">		findprint(itv);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"No find.\n"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/C-%E5%A4%8D%E4%B9%A0/" rel="tag"># C++复习</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/12/22/C++%E5%A4%8D%E4%B9%A0(%E5%BC%82%E5%B8%B8%E5%92%8C%E6%96%AD%E8%A8%80)/" rel="prev" title="C++复习(异常和断言)">
      <i class="fa fa-chevron-left"></i> C++复习(异常和断言)
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/12/22/day02%E7%AC%94%E8%AE%B0/" rel="next" title="java学习笔记2">
      java学习笔记2 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、STL简介"><span class="nav-number">1.</span> <span class="nav-text">1、STL简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1、容器"><span class="nav-number">1.1.</span> <span class="nav-text">1.1、容器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2、迭代器"><span class="nav-number">1.2.</span> <span class="nav-text">1.2、迭代器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3、算法"><span class="nav-number">1.3.</span> <span class="nav-text">1.3、算法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、序列式容器"><span class="nav-number">2.</span> <span class="nav-text">2、序列式容器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1、序列式容器概述。"><span class="nav-number">2.1.</span> <span class="nav-text">2.1、序列式容器概述。</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-1、vector向量的实现以及访问特点"><span class="nav-number">2.1.1.</span> <span class="nav-text">2.1.1、vector向量的实现以及访问特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-2、deque双端队列的实现以及访问特点"><span class="nav-number">2.1.2.</span> <span class="nav-text">2.1.2、deque双端队列的实现以及访问特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-3、list列表的实现及访问特点"><span class="nav-number">2.1.3.</span> <span class="nav-text">2.1.3、list列表的实现及访问特点</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2、vector类模板"><span class="nav-number">2.2.</span> <span class="nav-text">2.2、vector类模板</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-1、创建vecor对象"><span class="nav-number">2.2.1.</span> <span class="nav-text">2.2.1、创建vecor对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-2、emplace-back-函数"><span class="nav-number">2.2.2.</span> <span class="nav-text">2.2.2、emplace_back()函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-3、获取容器的容量和大小"><span class="nav-number">2.2.3.</span> <span class="nav-text">2.2.3、获取容器的容量和大小</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-4、预留容器容量reserve"><span class="nav-number">2.2.4.</span> <span class="nav-text">2.2.4、预留容器容量reserve()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-5、赋值函数assign"><span class="nav-number">2.2.5.</span> <span class="nav-text">2.2.5、赋值函数assign()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-6、访问容器的元素-、at"><span class="nav-number">2.2.6.</span> <span class="nav-text">2.2.6、访问容器的元素[]、at()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-7、从尾部插入和删除元素push-back、pop-back"><span class="nav-number">2.2.7.</span> <span class="nav-text">2.2.7、从尾部插入和删除元素push_back、pop_back</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-8、获取头部和尾部元素"><span class="nav-number">2.2.8.</span> <span class="nav-text">2.2.8、获取头部和尾部元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-9、插入和删除元素"><span class="nav-number">2.2.9.</span> <span class="nav-text">2.2.9、插入和删除元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-10、翻转函数reverse-begin-end"><span class="nav-number">2.2.10.</span> <span class="nav-text">2.2.10、翻转函数reverse(begin,end)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-11、判空函数empty"><span class="nav-number">2.2.11.</span> <span class="nav-text">2.2.11、判空函数empty()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-12、重新设置容器大小函数resize"><span class="nav-number">2.2.12.</span> <span class="nav-text">2.2.12、重新设置容器大小函数resize()</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">匡俊桦</p>
  <div class="site-description" itemprop="description">回忆的沙漏将曾经屈指可数的日子渐渐淡去</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">202</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">匡俊桦</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">1.5m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">22:23</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>

<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>
